(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{2860:function(e,r,t){Promise.resolve().then(t.bind(t,7849))},7849:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),a=t(2265),o=e=>{let{label:r,type:t,name:a,placeholder:o,onChange:n,error:l}=e;return(0,s.jsxs)("label",{className:"block mb-4",children:[(0,s.jsxs)("span",{className:"text-white",children:[r,":"]}),(0,s.jsx)("input",{className:"mt-1 w-full rounded-md shadow-sm ".concat(l?"border-red-500":"border-gray-300"),type:t,name:a,placeholder:o,onChange:n})]})},n=()=>{let[e,r]=(0,a.useState)({email:"",pass:"",passConfirm:"",firstName:"",lastName:"",error:null}),[t,n]=(0,a.useState)(!1),l=t=>{r({...e,[t.target.name]:t.target.value})},i=async t=>{if(t.preventDefault(),n(!0),r({...e,error:null}),!e.email||!e.pass||!e.passConfirm||!e.firstName||!e.lastName){r({...e,error:"All fields must be filled out"});return}if(e.pass!==e.passConfirm){r({...e,error:"Password and password confirmation do not match"});return}let s=JSON.stringify({first_name:e.firstName,last_name:e.lastName,email:e.email,password:e.pass});try{let t=await fetch("http://localhost:8000/users/",{method:"POST",body:s,headers:{"Content-Type":"application/json"}});if(t.ok)r({email:"",pass:"",passConfirm:"",firstName:"",lastName:"",error:"Registered Successfully!"});else{let s=await t.json(),a=Object.values(s.errors).flat().join(" ");r({...e,error:a})}}catch(t){r({...e,error:"Error Registering - Check your information and try again"})}};return(0,s.jsxs)("form",{className:"p-6 bg-secondary rounded-xl shadow-md ",onSubmit:i,children:[(0,s.jsx)(o,{label:"Firstname",type:"text",name:"firstName",placeholder:"Firstname",error:t&&!e.firstName,onChange:l}),(0,s.jsx)(o,{label:"Lastname",type:"text",name:"lastName",placeholder:"Lastname",onChange:l,error:t&&!e.firstName}),(0,s.jsx)(o,{label:"Email",type:"email",name:"email",placeholder:"email@email.com",error:t&&!e.firstName,onChange:l}),(0,s.jsx)(o,{label:"Password",type:"password",name:"pass",placeholder:"Password",error:t&&!e.firstName,onChange:l}),(0,s.jsx)(o,{label:"Confirm Password",type:"password",name:"passConfirm",placeholder:"Confirm Password",error:t&&!e.firstName,onChange:l}),(0,s.jsx)("input",{className:"w-full px-3 py-2 text-white bg-tertiary  rounded hover:bg-blue-700",type:"submit",value:"Submit"})]})},l=()=>{let[e,r]=(0,a.useState)(""),[t,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(null),[m,c]=(0,a.useState)(!1);return(0,s.jsxs)("form",{className:"p-6 bg-secondary rounded-xl shadow-md",onSubmit:s=>{s.preventDefault(),c(!0),i(null);let a=!0,o="",l=JSON.stringify({email:e,password:t});try{fetch("http://34.230.221.137/login/",{method:"POST",body:l,headers:{"Content-Type":"application/json"}}).then(e=>(e.ok?a=!0:(o="Error: "+e.status+" - ",a=!1),e.json())).then(e=>{if(a)e.success&&(window.sessionStorage.setItem("auth","true"),window.sessionStorage.setItem("user_id",e.user_id),window.sessionStorage.setItem("token",e.token));else{for(let r in e.errors)for(let t in e.errors[r])o+=e.errors[r][t];console.log(o),i(o)}}).catch(e=>{a=!1,console.error(e)}),a?(r(""),n(""),i("Logged In Successfully!")):i(o)}catch(e){console.error(e),i("Error Registering - Check your information and try again")}},children:[(0,s.jsx)(o,{label:"Email",type:"email",name:"email",placeholder:"email@email.com",onChange:e=>r(e.target.value)}),(0,s.jsx)(o,{label:"Password",type:"password",name:"password",placeholder:"password",onChange:e=>n(e.target.value)}),(0,s.jsx)("input",{className:"w-full px-3 py-2 text-white bg-tertiary rounded hover:bg-blue-700",type:"submit",value:"Submit"})]})},i=()=>{let[e,r]=(0,a.useState)(!1),t=async()=>{try{let e=await fetch("http://34.230.221.137/users/"),r=await e.json();return console.log(r),{props:{userData:r}}}catch(e){return console.error("Error al obtener los datos:",e),{props:{userData:null}}}};return(0,s.jsxs)("section",{className:"flex flex-col items-center justify-center min-h-screen ",children:[(0,s.jsx)("h1",{className:"mb-6 text-5xl font-bold",children:e?"Login Page":"Create User Page"}),e?(0,s.jsx)(l,{}):(0,s.jsx)(n,{}),(0,s.jsx)("button",{onClick:()=>{r(!e)},className:"p-10",children:e?"Switch to Create User":"Switch to Login"}),(0,s.jsx)("button",{className:"p-10",onClick:t,children:"Fetch Data"})]})}},622:function(e,r,t){"use strict";var s=t(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function m(e,r,t){var s,o={},m=null,c=null;for(s in void 0!==t&&(m=""+t),void 0!==r.key&&(m=""+r.key),void 0!==r.ref&&(c=r.ref),r)n.call(r,s)&&!i.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===o[s]&&(o[s]=r[s]);return{$$typeof:a,type:e,key:m,ref:c,props:o,_owner:l.current}}r.Fragment=o,r.jsx=m,r.jsxs=m},7437:function(e,r,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=2860)}),_N_E=e.O()}]);